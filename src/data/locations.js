export const locations = {
    counties: [
        {
            name: "Mecklenburg County",
            slug: "mecklenburg-county",
            cities: [
                {
                    name: "Charlotte",
                    slug: "charlotte",
                    isMain: true,
                    zipCodes: ["28201", "28202", "28203", "28204", "28205", "28206", "28207", "28208", "28209", "28210", "28211", "28212", "28213", "28214", "28215", "28216", "28217", "28226", "28227", "28244", "28262", "28269", "28270", "28273", "28277", "28278", "28280", "28281", "28282"],
                    zipDetails: [
                        { code: "28201", type: "condo", area: "Uptown Charlotte" },
                        { code: "28202", type: "condo", area: "Uptown Charlotte" },
                        { code: "28203", type: "house", area: "Dilworth" },
                        { code: "28204", type: "condo", area: "First Ward" },
                        { code: "28205", type: "mixed", area: "NoDa" },
                        { code: "28206", type: "mixed", area: "North Charlotte" },
                        { code: "28207", type: "house", area: "Myers Park" },
                        { code: "28208", type: "mixed", area: "West Charlotte" },
                        { code: "28209", type: "house", area: "South Charlotte" },
                        { code: "28210", type: "mixed", area: "South Charlotte" },
                        { code: "28211", type: "mixed", area: "Cotswold" },
                        { code: "28212", type: "mixed", area: "East Charlotte" },
                        { code: "28213", type: "mixed", area: "University City" },
                        { code: "28214", type: "mixed", area: "West Charlotte" },
                        { code: "28215", type: "house", area: "North Charlotte" },
                        { code: "28216", type: "mixed", area: "Biddleville" },
                        { code: "28217", type: "mixed", area: "South Charlotte" },
                        { code: "28226", type: "house", area: "Olde Providence" },
                        { code: "28227", type: "house", area: "Mint Hill" },
                        { code: "28244", type: "condo", area: "Second Ward" },
                        { code: "28262", type: "mixed", area: "University City" },
                        { code: "28269", type: "mixed", area: "Highland Creek" },
                        { code: "28270", type: "house", area: "Providence Plantation" },
                        { code: "28273", type: "mixed", area: "Steele Creek" },
                        { code: "28277", type: "house", area: "Ballantyne" },
                        { code: "28278", type: "mixed", area: "Steele Creek" },
                        { code: "28280", type: "condo", area: "Uptown Charlotte" },
                        { code: "28281", type: "condo", area: "Uptown Charlotte" },
                        { code: "28282", type: "condo", area: "Uptown Charlotte" },
                    ]
                },
                { name: "Cornelius", slug: "cornelius", zipCodes: ["28031"], zipDetails: [{ code: "28031", type: "house", area: "Cornelius" }] },
                { name: "Davidson", slug: "davidson", zipCodes: ["28035", "28036"], zipDetails: [{ code: "28035", type: "house", area: "Davidson" }, { code: "28036", type: "house", area: "Davidson" }] },
                { name: "Huntersville", slug: "huntersville", zipCodes: ["28070", "28078"], zipDetails: [{ code: "28070", type: "mixed", area: "Huntersville" }, { code: "28078", type: "house", area: "Huntersville" }] },
                { name: "Matthews", slug: "matthews", zipCodes: ["28104", "28105", "28106"], zipDetails: [{ code: "28104", type: "house", area: "Matthews" }, { code: "28105", type: "house", area: "Matthews" }, { code: "28106", type: "house", area: "Matthews" }] },
                { name: "Mint Hill", slug: "mint-hill", zipCodes: ["28227"], zipDetails: [{ code: "28227", type: "house", area: "Mint Hill" }] },
                { name: "Pineville", slug: "pineville", zipCodes: ["28134", "28210"], zipDetails: [{ code: "28134", type: "mixed", area: "Pineville" }, { code: "28210", type: "house", area: "Pineville" }] },
                { name: "Stallings", slug: "stallings", zipCodes: ["28104"], zipDetails: [{ code: "28104", type: "house", area: "Stallings" }] }
            ]
        },
        {
            name: "Gaston County",
            slug: "gaston-county",
            cities: [
                { name: "Gastonia", slug: "gastonia", zipCodes: ["28052", "28053", "28054", "28055", "28056"], zipDetails: [{ code: "28052", type: "mixed", area: "Gastonia" }, { code: "28053", type: "house", area: "Gastonia" }, { code: "28054", type: "house", area: "Gastonia" }, { code: "28055", type: "house", area: "Gastonia" }, { code: "28056", type: "house", area: "Gastonia" }] },
                { name: "Belmont", slug: "belmont", zipCodes: ["28012"], zipDetails: [{ code: "28012", type: "house", area: "Belmont" }] },
                { name: "Mount Holly", slug: "mount-holly", zipCodes: ["28120"], zipDetails: [{ code: "28120", type: "house", area: "Mount Holly" }] },
                { name: "Cramerton", slug: "cramerton", zipCodes: ["28032"], zipDetails: [{ code: "28032", type: "house", area: "Cramerton" }] },
                { name: "Lowell", slug: "lowell", zipCodes: ["28098"], zipDetails: [{ code: "28098", type: "house", area: "Lowell" }] },
                { name: "McAdenville", slug: "mcadenville", zipCodes: ["28101"], zipDetails: [{ code: "28101", type: "house", area: "McAdenville" }] },
                { name: "Stanley", slug: "stanley", zipCodes: ["28164"], zipDetails: [{ code: "28164", type: "house", area: "Stanley" }] },
                { name: "Dallas", slug: "dallas-nc", zipCodes: ["28034"], zipDetails: [{ code: "28034", type: "house", area: "Dallas" }] },
                { name: "Bessemer City", slug: "bessemer-city", zipCodes: ["28016"], zipDetails: [{ code: "28016", type: "house", area: "Bessemer City" }] },
                { name: "Cherryville", slug: "cherryville", zipCodes: ["28021"], zipDetails: [{ code: "28021", type: "house", area: "Cherryville" }] },
                { name: "Kings Mountain", slug: "kings-mountain", zipCodes: ["28086"], zipDetails: [{ code: "28086", type: "house", area: "Kings Mountain" }] },
                { name: "Ranlo", slug: "ranlo", zipCodes: ["28054"], zipDetails: [{ code: "28054", type: "house", area: "Ranlo" }] },
                { name: "High Shoals", slug: "high-shoals", zipCodes: ["28077"], zipDetails: [{ code: "28077", type: "house", area: "High Shoals" }] }
            ]
        },
        {
            name: "Union County",
            slug: "union-county",
            cities: [
                { name: "Monroe", slug: "monroe", zipCodes: ["28110", "28111", "28112"], zipDetails: [{ code: "28110", type: "mixed", area: "Monroe" }, { code: "28111", type: "house", area: "Monroe" }, { code: "28112", type: "house", area: "Monroe" }] },
                { name: "Indian Trail", slug: "indian-trail", zipCodes: ["28079", "28104"], zipDetails: [{ code: "28079", type: "house", area: "Indian Trail" }, { code: "28104", type: "house", area: "Indian Trail" }] },
                { name: "Waxhaw", slug: "waxhaw", zipCodes: ["28173"], zipDetails: [{ code: "28173", type: "house", area: "Waxhaw" }] },
                { name: "Weddington", slug: "weddington", zipCodes: ["28104", "28173"], zipDetails: [{ code: "28104", type: "house", area: "Weddington" }, { code: "28173", type: "house", area: "Weddington" }] },
                { name: "Wesley Chapel", slug: "wesley-chapel", zipCodes: ["28104", "28173"], zipDetails: [{ code: "28104", type: "house", area: "Wesley Chapel" }, { code: "28173", type: "house", area: "Wesley Chapel" }] },
                { name: "Marvin", slug: "marvin", zipCodes: ["28173"], zipDetails: [{ code: "28173", type: "house", area: "Marvin" }] },
                { name: "Mineral Springs", slug: "mineral-springs", zipCodes: ["28108"], zipDetails: [{ code: "28108", type: "house", area: "Mineral Springs" }] },
                { name: "Fairview", slug: "fairview-nc", zipCodes: ["28173"], zipDetails: [{ code: "28173", type: "house", area: "Fairview" }] },
                { name: "Hemby Bridge", slug: "hemby-bridge", zipCodes: ["28079"], zipDetails: [{ code: "28079", type: "house", area: "Hemby Bridge" }] },
                { name: "Lake Park", slug: "lake-park", zipCodes: ["28079"], zipDetails: [{ code: "28079", type: "house", area: "Lake Park" }] },
                { name: "Marshville", slug: "marshville", zipCodes: ["28103"], zipDetails: [{ code: "28103", type: "house", area: "Marshville" }] },
                { name: "Wingate", slug: "wingate", zipCodes: ["28174"], zipDetails: [{ code: "28174", type: "house", area: "Wingate" }] },
                { name: "Unionville", slug: "unionville", zipCodes: ["28110"], zipDetails: [{ code: "28110", type: "house", area: "Unionville" }] }
            ]
        },
        {
            name: "Cabarrus County",
            slug: "cabarrus-county",
            cities: [
                { name: "Concord", slug: "concord", zipCodes: ["28025", "28026", "28027"], zipDetails: [{ code: "28025", type: "mixed", area: "Concord" }, { code: "28026", type: "house", area: "Concord" }, { code: "28027", type: "house", area: "Concord" }] },
                { name: "Kannapolis", slug: "kannapolis", zipCodes: ["28081", "28083"], zipDetails: [{ code: "28081", type: "mixed", area: "Kannapolis" }, { code: "28083", type: "house", area: "Kannapolis" }] },
                { name: "Harrisburg", slug: "harrisburg", zipCodes: ["28075"], zipDetails: [{ code: "28075", type: "house", area: "Harrisburg" }] },
                { name: "Midland", slug: "midland", zipCodes: ["28107"], zipDetails: [{ code: "28107", type: "house", area: "Midland" }] },
                { name: "Mount Pleasant", slug: "mount-pleasant", zipCodes: ["28124"], zipDetails: [{ code: "28124", type: "house", area: "Mount Pleasant" }] },
                { name: "Locust", slug: "locust", zipCodes: ["28097"], zipDetails: [{ code: "28097", type: "house", area: "Locust" }] }
            ]
        }
    ],
    neighborhoods: [
        { name: "Uptown Charlotte", slug: "uptown-charlotte", parent: "charlotte" },
        { name: "South End", slug: "south-end", parent: "charlotte" },
        { name: "NoDa", slug: "noda", parent: "charlotte" },
        { name: "Plaza Midwood", slug: "plaza-midwood", parent: "charlotte" },
        { name: "Dilworth", slug: "dilworth", parent: "charlotte" },
        { name: "Myers Park", slug: "myers-park", parent: "charlotte" },
        { name: "Ballantyne", slug: "ballantyne", parent: "charlotte" },
        { name: "University City", slug: "university-city", parent: "charlotte" },
        { name: "Steele Creek", slug: "steele-creek", parent: "charlotte" },
        { name: "South Park", slug: "south-park", parent: "charlotte" },
        { name: "Elizabeth", slug: "elizabeth", parent: "charlotte" },
        { name: "Eastover", slug: "eastover", parent: "charlotte" },
        { name: "Providence", slug: "providence", parent: "charlotte" },
        { name: "Cotswold", slug: "cotswold", parent: "charlotte" },
        { name: "Arboretum", slug: "arboretum", parent: "charlotte" }
    ]
};

export function getAllCities() {
    const cities = [];
    locations.counties.forEach(county => {
        county.cities.forEach(city => {
            cities.push({
                ...city,
                county: county.name,
                countySlug: county.slug
            });
        });
    });
    return cities;
}

export function getAllNeighborhoods() {
    return locations.neighborhoods;
}

export function getCityBySlug(slug) {
    for (const county of locations.counties) {
        const city = county.cities.find(c => c.slug === slug);
        if (city) {
            return { ...city, county: county.name, countySlug: county.slug };
        }
    }
    const neighborhood = locations.neighborhoods.find(n => n.slug === slug);
    if (neighborhood) {
        return { ...neighborhood, isNeighborhood: true };
    }
    return null;
}

export function getAllLocationSlugs() {
    const slugs = [];
    locations.counties.forEach(county => {
        county.cities.forEach(city => slugs.push(city.slug));
    });
    locations.neighborhoods.forEach(n => slugs.push(n.slug));
    return slugs;
}

// New functions for ZIP code pages
export function getAllZipCodes() {
    const zips = [];
    locations.counties.forEach(county => {
        county.cities.forEach(city => {
            if (city.zipDetails) {
                city.zipDetails.forEach(zip => {
                    zips.push({
                        ...zip,
                        city: city.name,
                        citySlug: city.slug,
                        county: county.name,
                        countySlug: county.slug
                    });
                });
            }
        });
    });
    return zips;
}

export function getZipDetailsByCode(citySlug, zipCode) {
    const city = getCityBySlug(citySlug);
    if (!city || !city.zipDetails) return null;

    return city.zipDetails.find(z => z.code === zipCode);
}

export function getZipType(citySlug, zipCode) {
    const zipDetail = getZipDetailsByCode(citySlug, zipCode);
    return zipDetail ? zipDetail.type : 'mixed'; // default to mixed
}
